(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1122:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(13),l=a.n(o),i=(a(546),a(31)),c=a(44),m=a(521),s=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function u(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a(552),a(553);var d=a(167),p=a.n(d),h=a(168),g=a.n(h),f=a(1128),E=a(1126),b=a(59),y=a(60),v=a(63),O=a(61),k=a(62),w=a(169),j=a(26),S=a(53),D=a(22),C=a.n(D),T=a(69),_=a(48),A=a.n(_),N=a(214),x=a.n(N),L=a(37),R=a.n(L),I="".concat(window.location.origin,"/");"http://localhost:3000/"===I&&(I="http://127.0.0.1:8050/");var Y=I,z=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(O.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault(),C.a.post("".concat(Y,"api/login/"),a.state).then(function(e){var t=e.data;localStorage.setItem("token",t.token),window.location.reload()})},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(S.a)({},e);return a[t]=n,a})},a.state={username:"",password:"",open:!1},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(R.a,{onClick:this.handleOpen},"Login"),r.a.createElement(x.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},r.a.createElement("div",{style:{top:"35%",left:"35%"},className:e.paper},r.a.createElement(A.a,{variant:"h6",id:"modal-title"},"Login"),r.a.createElement(A.a,{variant:"subtitle1",id:"simple-modal-description"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,placeholder:"username",className:"form-control",name:"username",type:"text",value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,placeholder:"password",className:"form-control",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(R.a,{onClick:this.handleSubmit,type:"submit",variant:"contained",color:"primary"},"Login"))))))}}]),t}(r.a.Component),M=Object(T.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,borderRadius:10}}})(z),G=a(39),H=a(1125),B=a(1124),W=a(45),F=a.n(W),P=a(130),q=a.n(P),K=a(129),U=a.n(K),V=a(23),J=a.n(V),X=a(540),Q=a(522),$=a.n(Q),Z=a(523),ee=a.n(Z),te=a(105),ae=a.n(te),ne=a(330),re=a.n(ne),oe=a(331),le=a.n(oe),ie=a(329),ce=a.n(ie),me=a(334),se=a.n(me),ue=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta;o.touched,o.error,o.warning;return r.a.createElement(ae.a,Object.assign({label:a,margin:"normal",variant:"outlined"},t,{type:n,fullWidth:!0}))},de=function(e){var t=e.input,a=e.label,n=e.meta;n.touched,n.error;return r.a.createElement(se.a,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement($.a,Object.assign({},t,{onChange:function(e,a){return t.onChange(a)}}))))},pe=function(e){var t=e.input,a=e.label,n=e.meta;n.touched,n.error;return r.a.createElement(se.a,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement(ee.a,Object.assign({},t,{onChange:function(e,a){return t.onChange(a)}}))))},he=function(e){var t=e.input,a=e.label;return r.a.createElement(ae.a,Object.assign({},t,{label:a,placeholder:a,fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,InputLabelProps:{shrink:!0}}))},ge=function(e){var t=e.input,a=e.label,n=e.meta,o=n.touched,l=n.error,i=e.children,c=Object(X.a)(e,["input","label","meta","children"]);return r.a.createElement(re.a,{error:o&&l,fullWidth:!0},r.a.createElement(ce.a,null,a),r.a.createElement(le.a,Object.assign({},t,c),i))},fe=function(e){return e?void 0:"Required"},Ee=Object(B.a)({form:"TaskNewForm"})(function(e){var t=e.open,a=e.handleClose,o=e.initGoal,l=e.initDay,i=e.initDate,c=e.initType,m=e.change,s=e.handleSubmit,u=e.refresh,d=Object(n.useState)(null),p=Object(G.a)(d,2),h=p[0],g=p[1];Object(n.useEffect)(function(){C()({method:"get",url:"".concat(Y,"api/get-user-goals/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){if(g(e.data),o&&m("goal",o),l){var t=new Date(i);m("date",t)}c&&m("task_type",c)})},[]),Object(n.useEffect)(function(){c&&m("task_type",c)},[t]);return h?r.a.createElement(U.a,{onClose:a,"aria-labelledby":"add new task",open:t,style:{direction:"rtl",textAlign:"right"},scroll:"body"},r.a.createElement(q.a,null,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f"),r.a.createElement("form",{onSubmit:s(function(e){var t=Object(S.a)({},e);e.date&&(t.date=F()(e.date).format("YYYY-MM-DD"),e.time&&(t.stime=F()(e.time).format("HH:mm:ss"))),C()({method:"post",url:"".concat(Y,"api/task/"),data:t,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(){u&&u(),a()})}),style:{padding:12}},r.a.createElement(J.a,{container:!0,spacing:24},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(H.a,{name:"title",component:ue,type:"text",label:"\u0627\u0644\u0645\u0647\u0645\u0629",validate:fe})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"date",component:de,label:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e "})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"time",component:pe,label:"\u0627\u0644\u0648\u0642\u062a"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"duration",component:ue,type:"number",label:"\u0627\u0644\u0645\u062f\u0629 \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"task_type",component:ge,label:"task type"},r.a.createElement("option",{value:""}),r.a.createElement("option",{key:"task_type#1",value:"a"},"\u062a\u062e\u0637\u064a\u0637"),r.a.createElement("option",{key:"task_type#2",value:"b"},"\u062a\u0646\u0641\u064a\u0630"))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(H.a,{name:"description",component:he,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(H.a,{name:"goal",component:ge,label:"\u062a\u062a\u0628\u0639 \u0647\u062f\u0641"},r.a.createElement("option",{value:""}),h.map(function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.title)}))),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(R.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))):r.a.createElement("h2",null,"Loading...")}),be=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(v.a)(this,Object(O.a)(t).call(this,e))).toggle=a.toggle.bind(Object(w.a)(Object(w.a)(a))),a.state={isOpen:!1},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",{style:{direction:"rtl"}},r.a.createElement(j.j,{color:"light",light:!0,expand:"md"},r.a.createElement(j.k,{href:"/"},"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"),r.a.createElement(j.l,{onClick:this.toggle}),r.a.createElement(j.a,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(j.g,{className:"ml-auto",navbar:!0},r.a.createElement(j.h,{key:"nav1"},r.a.createElement(j.i,{href:"/goal/goal"},"\u0627\u0644\u0623\u0647\u062f\u0627\u0641")),r.a.createElement(j.h,{key:"nav2"},r.a.createElement(j.i,{href:"/days"},"Calendar")),r.a.createElement(j.h,{key:"nav3"},r.a.createElement(Ee,null,r.a.createElement(j.i,null,"Add Task"))),r.a.createElement(j.m,{nav:!0,inNavbar:!0},r.a.createElement(j.d,{nav:!0,caret:!0},"Options"),r.a.createElement(j.c,{right:!0},r.a.createElement(j.b,null,"Option 1"),r.a.createElement(j.b,null,"Option 2"),r.a.createElement(j.b,{divider:!0}),r.a.createElement(j.b,null,"Reset"))),r.a.createElement(j.h,null,r.a.createElement(M,null))))))}}]),t}(r.a.Component),ye=a(103),ve=a.n(ye),Oe=a(227),ke=a.n(Oe);function we(e){return r.a.createElement("div",{style:{direction:"ltr"}},F()(e.dateTime).format("YYYY-MM-DD hh:mm a"))}var je=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).state={task:null},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this;C()({method:"get",url:"".concat(Y,"api/task/").concat(this.props.match.params.id,"/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(t){e.setState({task:t.data})})}},{key:"render",value:function(){var e=this.props.classes;return this.state.task?r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement(ve.a,{className:e.root,elevation:1},r.a.createElement(A.a,{variant:"h4",component:"h4"},this.state.task.title),r.a.createElement(A.a,{component:"p"},this.state.task.description),r.a.createElement(ke.a,{label:this.state.task.task_type,className:e.chip,color:"primary"}),r.a.createElement(ke.a,{label:this.state.task.duration,className:e.chip,color:"primary"}),r.a.createElement(ke.a,{label:r.a.createElement(we,{dateTime:this.state.task.time}),className:e.chip,color:"primary"}))):r.a.createElement("h2",null,"Loading...")}}]),t}(r.a.Component),Se=Object(T.withStyles)(function(e){return{root:Object(S.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginTop:20}),chip:{margin:e.spacing.unit}}})(je),De=a(38),Ce=a.n(De),Te=a(104),_e=a.n(Te),Ae=a(136),Ne=a.n(Ae),xe=a(137),Le=a.n(xe),Re=a(16),Ie=a.n(Re),Ye=[],ze={resetErrors:function(){return{type:"RESET_ERRORS"}},addError:function(e){return{type:"ADD_ERROR",payload:e}}},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RESET_ERRORS":return Ye;case"ADD_ERROR":return e.concat([t.payload]);default:return e}},Ge="".concat(Y,"api");function He(e){var t=C.a.get("".concat(Ge,"/goal/").concat(e,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}});return function(e){t.then(function(t){e({type:"FETCH_GOAL",payload:t.data})}).catch(function(t){e(ze.addError(String(t)))})}}var Be=function(e){return e?void 0:"Required"},We=Object(B.a)({form:"GoalNewForm"})(function(e){var t=e.handleSubmit,a=e.goal_id,n=e.refresh,o=e.open,l=e.handleClose;return r.a.createElement(U.a,{onClose:l,"aria-labelledby":"Add new goal",open:o,style:{direction:"rtl",textAlign:"right"},scroll:"body"},r.a.createElement(q.a,null,"\u0625\u0636\u0627\u0641\u0629 \u0647\u062f\u0641 \u062c\u062f\u064a\u062f"),r.a.createElement("form",{onSubmit:t(function(e){var t=Object(S.a)({},e);e.date&&(t.date=F()(e.date).format("YYYY-MM-DD"),e.time&&(t.time=F()(e.time).format("HH:mm:ss"))),a&&(t.parent=a),e.total_time&&(t.total_time=60*e.total_time),e.total_spend&&(t.total_spend=60*e.total_spend),C()({method:"post",url:"".concat(Y,"api/goal/"),data:t,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(){n&&n(),l()})}),style:{padding:12}},r.a.createElement(J.a,{container:!0,spacing:24},r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(H.a,{name:"title",component:ue,type:"text",label:"\u0627\u0644\u0647\u062f\u0641",validate:Be})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(H.a,{name:"description",component:he,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"total_time",component:ue,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"total_spend",component:ue,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"date",component:de,label:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(H.a,{name:"time",component:pe,label:"\u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"})),r.a.createElement(J.a,{item:!0,xs:12},r.a.createElement(R.a,{type:"submit",variant:"contained",color:"primary"},"Submit")))))});var Fe=Object(c.b)(function(e){return{goals:e.goals}},{fetchGoals:function(){var e=C.a.get("".concat(Ge,"/goal/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))},params:{main:!0}});return function(t){e.then(function(e){t({type:"FETCH_GOALS",payload:e.data})}).catch(function(e){t(ze.addError(String(e)))})}}})(Ie()(function(e){return{root:{margin:10,maxWidth:1e3,marginLeft:"auto",marginRight:"auto",width:"95%"},list:{direction:"rtl",paddingTop:0,paddingBottom:0,margin:"20px 0"},listItem:{backgroundColor:e.palette.background.paper,textAlign:"right",borderRadius:".25rem",paddingBottom:12,paddingTop:12,marginTop:2,marginBottom:2}}})(function(e){var t=e.goals,a=e.fetchGoals,o=e.history,l=e.classes,i=Object(n.useState)(!1),c=Object(G.a)(i,2),m=c[0],s=c[1];Object(n.useEffect)(function(){a()},[]);return r.a.createElement("div",{className:l.root},r.a.createElement(_e.a,{className:l.list},Ce.a.map(t,function(e){return r.a.createElement(Ne.a,{className:l.listItem,key:e.id,button:!0,onClick:function(){return o.push("/goal/goal/".concat(e.id))}},r.a.createElement(Le.a,{primary:e.title,primaryTypographyProps:{color:"primary"}}))})),r.a.createElement(R.a,{variant:"contained",color:"primary",onClick:function(){return s(!0)}},"Add Goal"),r.a.createElement(We,{open:m,handleClose:function(){return s(!1)}}))})),Pe=a(536),qe=a.n(Pe),Ke=a(527),Ue=a.n(Ke),Ve=a(534),Je=a.n(Ve),Xe=a(535),Qe=a.n(Xe),$e=a(228),Ze=a.n($e),et=a(533),tt=a.n(et),at=a(128),nt=a(531),rt=a.n(nt),ot=a(532),lt=a.n(ot),it=a(529),ct=a.n(it),mt=a(528),st=a.n(mt),ut=a(530),dt=a.n(ut),pt=Object(T.withStyles)(function(e){return{root:{direction:"rtl",marginTop:10},fab:{margin:e.spacing.unit,width:48},textField:{margin:e.spacing.unit}}})(function(e){var t=e.goal_id,a=e.classes,o=Object(n.useState)({}),l=Object(G.a)(o,2),i=l[0],c=l[1],m=Object(n.useState)(""),s=Object(G.a)(m,2),u=s[0],d=s[1];Object(n.useEffect)(function(){C()({method:"get",url:"".concat(Y,"api/comment/"),params:{goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){c(Ce.a.mapKeys(e.data,"id"))})},[]);return r.a.createElement("div",{className:a.root},r.a.createElement(_e.a,{className:a.root},Ce.a.map(i,function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{style:{paddingLeft:0,paddingRight:0}},r.a.createElement(Le.a,{style:{textAlign:"right",paddingRight:20},primaryTypographyProps:{component:"pre"},primary:e.content,secondaryTypographyProps:{style:{direction:"ltr"}},secondary:F()(e.created_at).format("DD-MM-YYYY hh:mm a")}),r.a.createElement(st.a,{"aria-label":"Delete",onClick:function(){return a=e.id,void C()({method:"delete",url:"".concat(Y,"api/comment/").concat(a,"/"),params:{goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){c(Ce.a.omit(i,a))});var a}},r.a.createElement(ct.a,null))),r.a.createElement(dt.a,null))})),r.a.createElement("div",{style:{display:"flex",direction:"rtl",alignItems:"center"}},r.a.createElement(rt.a,{color:"primary","aria-label":"Add",onClick:function(){C()({method:"post",url:"".concat(Y,"api/comment/"),data:{content:u,goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){c(Object(S.a)({},i,Object(at.a)({},e.data.id,e.data))),d("")})},className:a.fab,size:"medium"},r.a.createElement(lt.a,null)),r.a.createElement(ae.a,{className:a.textField,multiline:!0,fullWidth:!0,variant:"outlined",value:u,onChange:function(e){return d(e.target.value)}})))}),ht=a(222),gt=a.n(ht),ft={ListGroup:{textAlign:"right",direction:"rtl",margin:"20px 0"},button:{marginBottom:30}},Et=function(e){var t=e.id,a=Object(n.useState)(null),o=Object(G.a)(a,2),l=o[0],i=o[1],c=Object(n.useState)(!1),m=Object(G.a)(c,2),s=m[0],u=m[1],d=function(){C()({method:"get",url:"".concat(Y,"api/goal/").concat(t,"/subgoals/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){i(Ce.a.mapKeys(e.data,"id"))})};Object(n.useEffect)(function(){d()},[]);return l?r.a.createElement("div",null,r.a.createElement(j.e,{style:ft.ListGroup},Ce.a.map(l,function(e){return r.a.createElement(gt.a,{to:"/goal/goal/".concat(e.id),key:e.id},r.a.createElement(j.f,{className:"justify-content-between"},e.title))})),r.a.createElement(R.a,{variant:"contained",color:"primary",style:{float:"left"},onClick:function(){return u(!0)}},"Add Subgoal"),r.a.createElement(We,{goal_id:t,refresh:d,open:s,handleClose:function(){return u(!1)}})):r.a.createElement("h2",null,"Loading...")},bt=function(e){var t=e.goal,a=e.day,o=e.date,l=e.history,i=Object(n.useState)(null),c=Object(G.a)(i,2),m=c[0],s=c[1],u=Object(n.useState)(!1),d=Object(G.a)(u,2),p=d[0],h=d[1],g=Object(n.useState)(!1),f=Object(G.a)(g,2),E=f[0],b=f[1],y=function(){var e=a?{day:a}:{goal:t};C()({method:"get",url:"".concat(Y,"api/task/"),params:e,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){s(Ce.a.mapKeys(e.data,"id"))})};Object(n.useEffect)(function(){y()},[]);var v=function(e){return r.a.createElement(_e.a,null,Ce.a.map(m,function(t){return t.task_type===e?r.a.createElement(Ne.a,{style:{textAlign:"right"},button:!0,onClick:function(){return l.push("/task/".concat(t.id))},key:t.id},r.a.createElement(Le.a,{primary:t.title,primaryTypographyProps:{color:"primary"}})):null}))};return m?r.a.createElement(J.a,{container:!0,spacing:16,style:{direction:"rtl",textAlign:"right",marginTop:10}},r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(A.a,{variant:"h4"},"\u0627\u0644\u062a\u062e\u0637\u064a\u0637"),r.a.createElement("ul",{className:"list-group list"},v("a")),r.a.createElement(R.a,{variant:"contained",color:"secondary",style:{marginTop:10,float:"left"},onClick:function(){return h(!0)}},"Add Task"),r.a.createElement(Ee,{open:p,handleClose:function(){return h(!1)},initType:"a",initGoal:t,initDay:a,initDate:o,refresh:y})),r.a.createElement(J.a,{item:!0,sm:6},r.a.createElement(A.a,{variant:"h4"},"\u0627\u0644\u062a\u0646\u0641\u064a\u0630"),r.a.createElement("ul",{className:"list-group list"},v("b")),r.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginTop:10,float:"left"},onClick:function(){return b(!0)}},"Add Task"),r.a.createElement(Ee,{open:E,handleClose:function(){return b(!1)},initType:"b",initGoal:t,initDay:a,initDate:o,refresh:y}))):r.a.createElement("h2",null,"Loading...")},yt=Object(T.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%",position:"relative",minHeight:200,direction:"rtl",textAlign:"right"},fab:{position:"absolute",bottom:2*e.spacing.unit,right:2*e.spacing.unit},fabGreen:{color:e.palette.common.white,backgroundColor:tt.a[500]}}},{withTheme:!0})(function(e){var t=e.classes,a=e.theme,o=e.goal_id,l=e.history,i=Object(n.useState)(0),c=Object(G.a)(i,2),m=c[0],s=c[1];return r.a.createElement("div",{className:t.root},r.a.createElement(Je.a,{position:"static",color:"default"},r.a.createElement(Qe.a,{value:m,onChange:function(e,t){return s(t)},indicatorColor:"primary",textColor:"primary",fullWidth:!0},r.a.createElement(Ze.a,{label:"Comments",style:{outline:"none"}}),r.a.createElement(Ze.a,{label:"Subgoals",style:{outline:"none"}}),r.a.createElement(Ze.a,{label:"Tasks",style:{outline:"none"}}))),r.a.createElement(Ue.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:m,onChangeIndex:s},r.a.createElement(pt,{goal_id:o}),r.a.createElement(Et,{id:o}),r.a.createElement(bt,{goal:o,history:l})))});var vt=qe()(Object(c.b)(function(e,t){return{goal:e.goals[t.match.params.id]}},{fetchGoal:He})(Object(T.withStyles)(function(){return{paper:{marginTop:10,padding:10,marginBottom:10,marginLeft:"auto",marginRight:"auto",maxWidth:900,width:"95%",textAlign:"right",direction:"rtl"},goalInfo:{padding:10,marginBottom:10,marginLeft:10,marginRight:10},title:{paddingBottom:20,fontWeight:"700"},description:{padding:10,marginBottom:20,fontSize:"1rem"}}})(function(e){var t=e.match,a=e.fetchGoal,o=e.goal,l=e.classes,i=e.history;if(Object(n.useEffect)(function(){var e=t.params.id;a(e)},[]),Object(n.useEffect)(function(){var e=t.params.id;a(e)},[t.params.id]),!o)return r.a.createElement("div",null,"Loading...");var c=t.params.id;return r.a.createElement(ve.a,{className:l.paper},r.a.createElement("div",{className:l.goalInfo},r.a.createElement(A.a,{variant:"h4",className:l.title},o.title),r.a.createElement(A.a,{variant:"body1",component:"pre",className:l.description},o.description),r.a.createElement(J.a,{container:!0,justify:"space-between"},r.a.createElement(J.a,{item:!0}," \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},"".concat(parseInt(o.total_time/60,10),"h"))),r.a.createElement(J.a,{item:!0},"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},"".concat(parseInt(o.total_spend/60,10),"h"))),r.a.createElement(J.a,{item:!0},"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621",r.a.createElement("span",{className:"badge badge-primary badge-pill"},r.a.createElement(we,{dateTime:o.finished_at}))))),r.a.createElement(yt,{goal_id:c,history:i}))}))),Ot=function(e){var t=e.match,a=e.history,o=Object(n.useState)(null),l=Object(G.a)(o,2),i=l[0],c=l[1],m=Object(n.useState)({}),s=Object(G.a)(m,2),u=s[0],d=s[1],p=Object(n.useState)(""),h=Object(G.a)(p,2),g=h[0],f=h[1];Object(n.useEffect)(function(){var e=t.params.id;C()({method:"get",url:"".concat(Y,"api/report/").concat(e,"/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){d(e.data.report),c(e.data.day)})},[]);var E=function(){var e=t.params.id;C()({method:"post",url:"".concat(Y,"api/report/").concat(e,"/"),data:{content:g},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){d(e.data)})},b=function(){f(u.content),d({})};if(!i)return r.a.createElement("h2",null,"loading...");var y=t.params.id;return r.a.createElement("div",{style:{textAlign:"right",direction:"rtl",width:"95%",maxWidth:900,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(bt,{day:y,date:i.date,history:a}),r.a.createElement("br",null),r.a.createElement("br",null),Ce.a.isEmpty(u)?r.a.createElement("div",null,r.a.createElement(ae.a,{style:{margin:8},placeholder:"\u0627\u0636\u0641 \u062a\u0642\u0631\u064a\u0631",fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,rowMin:"4",InputLabelProps:{shrink:!0},value:g,onChange:function(e){return f(e.target.value)}}),r.a.createElement(R.a,{color:"primary",variant:"contained",onClick:E},"Add Report")):r.a.createElement("div",null,r.a.createElement(R.a,{color:"primary",variant:"contained",onClick:b},"Update Report"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("br",null),r.a.createElement("pre",{className:"report"},u.content),r.a.createElement("br",null))))},kt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(o)))).renderList=function(){return Ce.a.map(a.props.days,function(e){return r.a.createElement(gt.a,{to:"/day/".concat(e.id),key:e.id},r.a.createElement(j.f,{className:"justify-content-between"},e.date))})},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDays()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(j.e,null,this.renderList()),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(r.a.Component);var wt=Object(c.b)(function(e){return{days:e.days}},{fetchDays:function(){var e=C()({method:"get",url:"".concat(Ge,"/days/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}});return function(t){e.then(function(e){t({type:"FETCH_DAYS",payload:e.data})}).catch(function(e){t(ze.addError(String(e)))})}}})(kt),jt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log("entered on submit");var t=F()(e.date).format("YYYY-MM-DD"),n=F()(e.time).format("HH:mm:ss"),r=Object(S.a)({},e,{date:t,time:n}),o=a.props.match.params.id;C()({method:"put",url:"".concat(Y,"api/goal/").concat(o,"/"),data:r,headers:{Authorization:"Token 560ada8c525156d6441fec29ea2910571eb1f35c"}}).then(function(e){a.props.history.push("/goal/goal/".concat(o))})},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchGoal(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.goal!==e.goal){var t=this.props.goal;this.props.initialize({title:t.title,description:t.description,total_time:t.total_time,total_spend:t.total_spend,date:new Date(t.finished_at),time:new Date(t.finished_at)})}}},{key:"render",value:function(){if(!this.props.goal)return r.a.createElement("div",null,"Loading...");var e=this.props.handleSubmit;return r.a.createElement(g.a,null,r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement("form",{onSubmit:e(this.onSubmit)},r.a.createElement("h3",null,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0647\u062f\u0641"),r.a.createElement(H.a,{name:"title",component:ue,type:"text",label:"\u0627\u0644\u0647\u062f\u0641",validate:St}),r.a.createElement(H.a,{name:"description",component:he,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",validate:St}),r.a.createElement(H.a,{name:"total_time",component:ue,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:St}),r.a.createElement(H.a,{name:"total_spend",component:ue,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:St}),r.a.createElement(H.a,{name:"date",component:de,label:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"}),r.a.createElement(H.a,{name:"time",component:pe,label:"\u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(r.a.Component),St=function(e){return e?void 0:"Required"};jt=Object(c.b)(function(e,t){return{goal:e.goals[t.match.params.id]}},{fetchGoal:He})(jt);var Dt=Object(B.a)({form:"GoalUpdateForm"})(jt),Ct=a(171),Tt=a.n(Ct),_t=[{title:"All Day Event very long title",bgColor:"#ff7f50",allDay:!0,start:new Date(2015,3,0),end:new Date(2015,3,1)},{title:"Long Event",start:new Date(2015,3,7),end:new Date(2015,3,10)},{title:"DTS STARTS",bgColor:"#dc143c",start:new Date(2016,2,13,0,0,0),end:new Date(2016,2,20,0,0,0)},{title:"DTS ENDS",bgColor:"#ff8c00",start:new Date(2016,10,6,0,0,0),end:new Date(2016,10,13,0,0,0)},{title:"Some Event",bgColor:"#9932cc",start:new Date(2015,3,9,0,0,0),end:new Date(2015,3,9,0,0,0)},{title:"Conference",bgColor:"#e9967a",start:new Date(2015,3,11),end:new Date(2015,3,13),desc:"Big conference for important people"},{title:"Meeting",bgColor:"#8fbc8f",start:new Date(2015,3,12,10,30,0,0),end:new Date(2015,3,12,12,30,0,0),desc:"Pre-meeting meeting, to prepare for the meeting"},{title:"Lunch",bgColor:"#cd5c5c",start:new Date(2015,3,12,12,0,0,0),end:new Date(2015,3,12,13,0,0,0),desc:"Power lunch"},{title:"Happy Hour",start:new Date(2015,3,12,12,0,0,0),end:new Date(2015,3,12,13,0,0,0),desc:"Power lunch happy hour"},{title:"Meeting",bgColor:"#da70d6",start:new Date(2015,3,12,14,0,0,0),end:new Date(2015,3,12,15,0,0,0)},{title:"Happy Hour",bgColor:"#eee8aa",start:new Date(2015,3,17,17,0,0,0),end:new Date(2015,3,17,17,30,0,0),desc:"Most important meal of the day"},{title:"Dinner",bgColor:"#98fb98",start:new Date(2015,3,15,20,0,0,0),end:new Date(2015,3,15,21,0,0,0)},{title:"Birthday Party",bgColor:"#afeeee",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Birthday Party 2",bgColor:"#db7093",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Birthday Party 3",bgColor:"#cd853f",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Late Night Event",bgColor:"#b0e0e6",start:new Date(2015,3,17,19,30,0),end:new Date(2015,3,18,2,0,0)},{title:"Multi-day Event",start:new Date(2015,3,20,19,30,0),end:new Date(2015,3,22,2,0,0)}],At=Object.keys(Tt.a.Views).map(function(e){return Tt.a.Views[e]});Tt.a.momentLocalizer(F.a);var Nt={minHeight:"100vh",height:"min-content",marginBottom:20},xt=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(O.a)(t)).call.apply(e,[this].concat(r)))).dayClick=function(e){var t=F()(e.start).format("YYYY-MM-DD");C()({method:"get",url:"".concat(Y,"api/get-day-id/"),params:{date:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.props.history.push("/day/".concat(e.data.id))})},a}return Object(k.a)(t,e),Object(y.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(Tt.a,Object.assign({selectable:!0,style:Nt},this.props,{events:_t,views:At,onSelectEvent:function(e){return alert(e.title)},onSelectSlot:this.dayClick,step:60,defaultDate:new Date})))}}]),t}(r.a.Component),Lt=a(537),Rt=a.n(Lt),It=a(539),Yt=a.n(It),zt=a(538),Mt=a.n(zt),Gt={resetErrors:ze.resetErrors},Ht=Object(c.b)(function(e){return{errors:e.errors}},Gt)(function(e){var t=e.errors,a=e.resetErrors;return r.a.createElement(U.a,{open:t.length>0,"aria-labelledby":"form-dialog-title"},r.a.createElement(q.a,{id:"form-dialog-title"},"Error"),r.a.createElement(Rt.a,null,t.map(function(e){return r.a.createElement(Mt.a,{key:e,variant:"h5"},e)})),r.a.createElement(Yt.a,null,r.a.createElement(R.a,{onClick:a,color:"primary",variant:"contained",size:"large"},"Ok")))}),Bt=p()({palette:{primary:{main:"#4464af"},secondary:{main:"#dc3545"}},direction:"rtl"}),Wt=function(){return r.a.createElement(g.a,{theme:Bt},r.a.createElement(f.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(be,null)),r.a.createElement(Ht,null),r.a.createElement(E.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(Fe,e)}}),r.a.createElement(E.a,{exact:!0,path:"/goal/goal",render:function(e){return r.a.createElement(Fe,e)}}),r.a.createElement(E.a,{path:"/goal/goal/:id",render:function(e){return r.a.createElement(vt,e)}}),r.a.createElement(E.a,{path:"/goal/update/:id",render:function(e){return r.a.createElement(Dt,e)}}),r.a.createElement(E.a,{path:"/goal/create_task",render:function(e){return r.a.createElement("task_new",e)}}),r.a.createElement(E.a,{path:"/days",render:function(e){return r.a.createElement(wt,e)}}),r.a.createElement(E.a,{path:"/day/:id",render:function(e){return r.a.createElement(Ot,e)}}),r.a.createElement(E.a,{path:"/calendar",render:function(e){return r.a.createElement(xt,e)}}),r.a.createElement(E.a,{path:"/goal-tabs",render:function(e){return r.a.createElement(yt,e)}}),r.a.createElement(E.a,{path:"/task/:id",render:function(e){return r.a.createElement(Se,e)}}))))},Ft=a(1127),Pt=Object(i.c)({form:Ft.a,goals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GOALS":return Ce.a.mapKeys(t.payload,"id");case"FETCH_GOAL":return Object(S.a)({},e,Object(at.a)({},t.payload.id,t.payload));default:return e}},days:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DAYS":return Ce.a.mapKeys(t.payload,"id");default:return e}},errors:Me}),qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d;l.a.render(r.a.createElement(c.a,{store:Object(i.e)(Pt,qt(Object(i.a)(m.a)))},r.a.createElement(Wt,null)),document.getElementById("root")),function(){if(console.log(navigator),"serviceWorker"in navigator){if(new URL("/static",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/static","/service-worker.js");s?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):u(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):u(e)})}}()},541:function(e,t,a){e.exports=a(1122)},546:function(e,t,a){},552:function(e,t,a){}},[[541,1,2]]]);
//# sourceMappingURL=main.61553226.chunk.js.map