(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1119:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(13),l=a.n(o),c=(a(545),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function i(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var s=a(37),m=a(55),d=a(520),u=a.n(d),p=a(23),h=a(24),g=a(26),b=a(25),f=a(27),E=a(1125),y=a(1123),v=(a(555),a(165)),O=a(21),k=a(1120),j=a(50),w=a(22),S=a.n(w),C=a(60),D=a(64),N=a.n(D),A=a(211),T=a.n(A),_=a(57),x=a.n(_),L="".concat(window.location.origin,"/");"http://localhost:3000/"===L&&(L="https://young-ridge-94101.herokuapp.com/");var I=L,G=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.handleSubmit=function(e){e.preventDefault(),S.a.post("".concat(I,"api/login/"),a.state).then(function(e){var t=e.data;localStorage.setItem("token",t.token),window.location.reload()})},a.handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(function(e){var a=Object(j.a)({},e);return a[t]=n,a})},a.state={username:"",password:"",open:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement(x.a,{onClick:this.handleOpen},"Login"),r.a.createElement(T.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.open,onClose:this.handleClose},r.a.createElement("div",{style:{top:"35%",left:"35%"},className:e.paper},r.a.createElement(N.a,{variant:"h6",id:"modal-title"},"Login"),r.a.createElement(N.a,{variant:"subtitle1",id:"simple-modal-description"},r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,placeholder:"username",className:"form-control",name:"username",type:"text",value:this.state.username,onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{required:!0,placeholder:"password",className:"form-control",name:"password",type:"password",value:this.state.password,onChange:this.handleChange})),r.a.createElement(x.a,{onClick:this.handleSubmit,type:"submit",variant:"contained",color:"primary"},"Login"))))))}}]),t}(r.a.Component),R=Object(C.withStyles)(function(e){return{paper:{position:"absolute",width:50*e.spacing.unit,backgroundColor:e.palette.background.paper,boxShadow:e.shadows[5],padding:4*e.spacing.unit,borderRadius:10}}})(G),M=a(1122),Y=a(1121),z=a(538),H=a(521),B=a.n(H),W=a(522),F=a.n(W),P=a(105),U=a.n(P),q=a(329),K=a.n(q),V=a(330),X=a.n(V),J=a(328),Q=a.n(J),$=function(e){var t=e.input,a=e.label,n=e.type,o=e.meta;o.touched,o.error,o.warning;return r.a.createElement(U.a,Object.assign({label:a,margin:"normal",variant:"outlined"},t,{type:n,fullWidth:!0}))},Z=function(e){var t=e.input,a=e.label,n=e.meta;n.touched,n.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement(B.a,Object.assign({},t,{onChange:function(e,a){return t.onChange(a)}})))},ee=function(e){var t=e.input,a=e.label,n=e.meta;n.touched,n.error;return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,a),r.a.createElement(F.a,Object.assign({},t,{onChange:function(e,a){return t.onChange(a)}})))},te=function(e){var t=e.input,a=e.label;return r.a.createElement(U.a,Object.assign({},t,{label:a,placeholder:a,fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,InputLabelProps:{shrink:!0}}))},ae=function(e){var t=e.input,a=e.label,n=e.meta,o=n.touched,l=n.error,c=e.children,i=Object(z.a)(e,["input","label","meta","children"]);return r.a.createElement(K.a,{error:o&&l,fullWidth:!0},r.a.createElement(Q.a,null,a),r.a.createElement(X.a,Object.assign({},t,i),c))},ne=a(213),re=a.n(ne),oe=a(47),le=a.n(oe),ce=a(215),ie=a.n(ce),se=a(214),me=a.n(se),de=a(35),ue=a.n(de),pe=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1,goals:null},a.onSubmit=function(e){var t=le()(e.date).format("YYYY-MM-DD"),n=le()(e.time).format("HH:mm:ss"),r=Object(j.a)({},e,{date:t,stime:n});console.log(e),S()({method:"post",url:"".concat(I,"api/task/"),data:r,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(){a.props.refresh&&a.props.refresh(),a.handleClose()})},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.renderGoals=function(){return a.state.goals.map(function(e){return r.a.createElement("option",{value:e.id},e.title)})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"".concat(I,"api/get-user-goals/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(t){if(e.setState({goals:t.data}),e.props.goal&&e.props.change("goal",e.props.goal),e.props.day){var a=new Date(e.props.date);e.props.change("date",a)}e.props.type&&e.props.change("task_type",e.props.type)})}},{key:"render",value:function(){if(!this.state.goals)return r.a.createElement("h2",null,"Loading...");var e=this.props.handleSubmit;return r.a.createElement(re.a,null,r.a.createElement("div",{onClick:this.handleOpen,style:{float:"left"}},this.props.children),r.a.createElement(me.a,{onClose:this.handleClose,"aria-labelledby":"add new task",open:this.state.open,style:{direction:"rtl",textAlign:"right"},scroll:"body"},r.a.createElement(ie.a,null,"\u0625\u0636\u0627\u0641\u0629 \u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f"),r.a.createElement("form",{onSubmit:e(this.onSubmit),style:{padding:12}},r.a.createElement(ue.a,{container:!0,spacing:24},r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(M.a,{name:"title",component:$,type:"text",label:"\u0627\u0644\u0645\u0647\u0645\u0629",validate:he})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"date",component:Z,label:"\u0627\u0644\u062a\u0627\u0631\u064a\u062e "})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"stime",component:ee,label:"\u0627\u0644\u0648\u0642\u062a"})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"duration",component:$,type:"number",label:"\u0627\u0644\u0645\u062f\u0629 \u0628\u0627\u0644\u062f\u0642\u0627\u0626\u0642",validate:he})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"task_type",component:$,type:"text",label:"task type",validate:he})),r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(M.a,{name:"description",component:te,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})),r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(M.a,{name:"goal",component:ae,label:"\u062a\u062a\u0628\u0639 \u0647\u062f\u0641"},r.a.createElement("option",{value:""}),this.renderGoals())),r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(x.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))))}}]),t}(r.a.Component),he=function(e){return e?void 0:"Required"},ge=Object(Y.a)({form:"TaskNewForm"})(Object(C.withStyles)(function(e){return{}})(pe)),be=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).mobile=function(){localStorage.setItem("token","560ada8c525156d6441fec29ea2910571eb1f35c")},a.toggle=a.toggle.bind(Object(v.a)(Object(v.a)(a))),a.state={isOpen:!1},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"render",value:function(){return r.a.createElement("div",{style:{direction:"rtl"}},r.a.createElement(O.k,{color:"light",light:!0,expand:"md"},r.a.createElement(O.l,{href:"/"},"\u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"),r.a.createElement(O.m,{onClick:this.toggle}),r.a.createElement(O.b,{isOpen:this.state.isOpen,navbar:!0},r.a.createElement(O.h,{className:"ml-auto",navbar:!0},r.a.createElement(O.i,null,r.a.createElement(k.a,{to:"/goal/goal"},r.a.createElement(O.j,null,"\u0627\u0644\u0623\u0647\u062f\u0627\u0641"))),r.a.createElement(O.i,null,r.a.createElement(k.a,{to:"/days"},r.a.createElement(O.j,null,"Calendar"))),r.a.createElement(O.i,null,r.a.createElement(ge,null,r.a.createElement(O.j,null,"Add Task"))),r.a.createElement(O.n,{nav:!0,inNavbar:!0},r.a.createElement(O.e,{nav:!0,caret:!0},"Options"),r.a.createElement(O.d,{right:!0},r.a.createElement(O.c,null,"Option 1"),r.a.createElement(O.c,null,"Option 2"),r.a.createElement(O.c,{divider:!0}),r.a.createElement(O.c,null,"Reset"))),r.a.createElement(O.i,null,r.a.createElement(R,null)),r.a.createElement(O.i,null,r.a.createElement(O.j,{onClick:this.mobile},"mobile"))))))}}]),t}(r.a.Component),fe=(a(817),a(162)),Ee=a.n(fe),ye=a(163),ve=a.n(ye),Oe=Ee()({palette:{primary:{main:"#4464af"},secondary:{main:"#dc3545"}},direction:"rtl"}),ke=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(ve.a,{theme:Oe},r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement(be,null)),this.props.children))}}]),t}(r.a.Component),je=a(79),we=a.n(je),Se=a(226),Ce=a.n(Se);function De(e){return r.a.createElement("div",{style:{direction:"ltr"}},le()(e.dateTime).format("YYYY-MM-DD hh:mm a"))}var Ne=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={task:null},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"".concat(I,"api/task/").concat(this.props.match.params.id,"/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(t){e.setState({task:t.data})})}},{key:"render",value:function(){var e=this.props.classes;return this.state.task?r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement(we.a,{className:e.root,elevation:1},r.a.createElement(N.a,{variant:"h4",component:"h4"},this.state.task.title),r.a.createElement(N.a,{component:"p"},this.state.task.description),r.a.createElement(Ce.a,{label:this.state.task.task_type,className:e.chip,color:"primary"}),r.a.createElement(Ce.a,{label:this.state.task.duration,className:e.chip,color:"primary"}),r.a.createElement(Ce.a,{label:r.a.createElement(De,{dateTime:this.state.task.time}),className:e.chip,color:"primary"}))):r.a.createElement("h2",null,"Loading...")}}]),t}(r.a.Component),Ae=Object(C.withStyles)(function(e){return{root:Object(j.a)({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginTop:20}),chip:{margin:e.spacing.unit}}})(Ne),Te=a(42),_e=a.n(Te),xe=a(75),Le=a.n(xe),Ie=I+"api";function Ge(e){return{type:"FETCH_GOAL",payload:S.a.get("".concat(Ie,"/goal/").concat(e,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}}var Re=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleOpen=function(){a.setState({open:!0})},a.handleClose=function(){a.setState({open:!1})},a.onSubmit=function(e){var t=le()(e.date).format("YYYY-MM-DD"),n=le()(e.time).format("HH:mm:ss"),r=Object(j.a)({},e,{date:t,time:n});a.props.goal_id&&(r=Object(j.a)({},r,{parent:a.props.goal_id})),S()({method:"post",url:"".concat(I,"api/goal/"),data:r,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(){a.props.refresh&&a.props.refresh(),a.handleClose()})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement(re.a,null,r.a.createElement("div",{onClick:this.handleOpen,style:{float:"left"}},this.props.children),r.a.createElement(me.a,{onClose:this.handleClose,"aria-labelledby":"add new task",open:this.state.open,style:{direction:"rtl",textAlign:"right"},scroll:"body"},r.a.createElement(ie.a,null,"\u0625\u0636\u0627\u0641\u0629 \u0647\u062f\u0641 \u062c\u062f\u064a\u062f"),r.a.createElement("form",{onSubmit:e(this.onSubmit),style:{padding:12}},r.a.createElement(ue.a,{container:!0,spacing:24},r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(M.a,{name:"title",component:$,type:"text",label:"\u0627\u0644\u0647\u062f\u0641",validate:Me})),r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(M.a,{name:"description",component:te,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644"})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"total_time",component:$,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:Me})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"total_spend",component:$,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:Me})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"date",component:Z,label:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"})),r.a.createElement(ue.a,{item:!0,sm:6},r.a.createElement(M.a,{name:"time",component:ee,label:"\u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"})),r.a.createElement(ue.a,{item:!0,xs:12},r.a.createElement(x.a,{type:"submit",variant:"contained",color:"primary"},"Submit"))))))}}]),t}(r.a.Component),Me=function(e){return e?void 0:"Required"},Ye=Object(Y.a)({form:"GoalNewForm"})(Re),ze={ListGroup:{textAlign:"right",direction:"rtl",margin:"20px 0"},button:{marginBottom:30}},He=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).renderList=function(){return _e.a.map(a.props.goals,function(e){var t=parseInt(e.total_time/60,10),a=e.total_time-60*t;return r.a.createElement(Le.a,{to:"/goal/goal/".concat(e.id),key:e.id},r.a.createElement(O.g,{className:"justify-content-between"},e.title,r.a.createElement(O.a,{className:"float-left",pill:!0},"".concat(t,":").concat(a))))})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGoals()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(O.f,{style:ze.ListGroup},this.renderList()),r.a.createElement(Ye,null,r.a.createElement(x.a,{variant:"contained",color:"primary"},"Add Goal")))}}]),t}(r.a.Component);var Be=Object(m.b)(function(e){return{goals:e.goals}},{fetchGoals:function(){return{type:"FETCH_GOALS",payload:S.a.get("".concat(Ie,"/goal/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}}})(He),We=a(537),Fe=a.n(We),Pe=a(167),Ue=a(526),qe=a.n(Ue),Ke=a(535),Ve=a.n(Ke),Xe=a(536),Je=a.n(Xe),Qe=a(227),$e=a.n(Qe),Ze=a(534),et=a.n(Ze),tt=a(128),at=a(331),nt=a.n(at),rt=a(527),ot=a.n(rt),lt=a(528),ct=a.n(lt),it=a(532),st=a.n(it),mt=a(533),dt=a.n(mt),ut=a(530),pt=a.n(ut),ht=a(529),gt=a.n(ht),bt=a(531),ft=a.n(bt),Et=Object(C.withStyles)(function(e){return{root:{direction:"rtl",marginTop:10},fab:{margin:e.spacing.unit,width:48},textField:{margin:e.spacing.unit}}})(function(e){var t=e.goal_id,a=e.classes,o=Object(n.useState)({}),l=Object(Pe.a)(o,2),c=l[0],i=l[1],s=Object(n.useState)(""),m=Object(Pe.a)(s,2),d=m[0],u=m[1];Object(n.useEffect)(function(){S()({method:"get",url:"".concat(I,"api/comment/"),params:{goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){i(_e.a.mapKeys(e.data,"id"))})},[]);return r.a.createElement("div",{className:a.root},r.a.createElement(nt.a,{className:a.root},_e.a.map(c,function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ot.a,{style:{paddingLeft:0,paddingRight:0}},r.a.createElement(ct.a,{style:{textAlign:"right",paddingRight:20},primaryTypographyProps:{component:"pre"},primary:e.content,secondaryTypographyProps:{style:{direction:"ltr"}},secondary:le()(e.created_at).format("DD-MM-YYYY hh:mm a")}),r.a.createElement(gt.a,{"aria-label":"Delete",onClick:function(){return a=e.id,void S()({method:"delete",url:"".concat(I,"api/comment/").concat(a,"/"),params:{goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){i(_e.a.omit(c,a))});var a}},r.a.createElement(pt.a,null))),r.a.createElement(ft.a,null))})),r.a.createElement("div",{style:{display:"flex",direction:"rtl",alignItems:"center"}},r.a.createElement(st.a,{color:"primary","aria-label":"Add",onClick:function(){S()({method:"post",url:"".concat(I,"api/comment/"),data:{content:d,goal_id:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){i(Object(j.a)({},c,Object(tt.a)({},e.data.id,e.data))),u("")})},className:a.fab,size:"medium"},r.a.createElement(dt.a,null)),r.a.createElement(U.a,{className:a.textField,multiline:!0,fullWidth:!0,variant:"outlined",value:d,onChange:function(e){return u(e.target.value)}})))}),yt={ListGroup:{textAlign:"right",direction:"rtl",margin:"20px 0"},button:{marginBottom:30}},vt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={goals:null},a.fetchGoals=function(){var e=a.props.id;S()({method:"get",url:"".concat(I,"api/goal/").concat(e,"/subgoals/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.setState({goals:_e.a.mapKeys(e.data,"id")})})},a.renderList=function(){return _e.a.map(a.state.goals,function(e){var t=parseInt(e.total_time/60,10),a=e.total_time-60*t;return r.a.createElement(Le.a,{to:"/goal/subgoal/".concat(e.id),key:e.id},r.a.createElement(O.g,{className:"justify-content-between"},e.title,r.a.createElement(O.a,{className:"float-left",pill:!0},"".concat(t,":").concat(a))))})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchGoals()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.f,{style:yt.ListGroup},this.renderList()),r.a.createElement(Ye,{goal_id:this.props.id,refresh:this.fetchGoals},r.a.createElement(x.a,{variant:"contained",color:"primary"},"Add Subgoal")))}}]),t}(r.a.Component),Ot=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).state={tasks:null},a.fetchTasks=function(){var e=a.props.day?{day:a.props.day}:{goal:a.props.goal};S()({method:"get",url:"".concat(I,"api/task/"),params:e,headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.setState(function(){return{tasks:_e.a.mapKeys(e.data,"id")}})})},a.renderList=function(e){return _e.a.map(a.state.tasks,function(t){if(t.task_type===e){var a=parseInt(t.duration/60,10),n=t.duration-60*a;return r.a.createElement(Le.a,{to:"/task/".concat(t.id),key:t.id},r.a.createElement("li",{className:"list-group-item d-flex justify-content-between align-items-center"},t.title,r.a.createElement("span",{className:"badge ".concat("a"===e?"badge-danger":"badge-primary")},"".concat(a,":").concat(n))))}return null})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.fetchTasks()}},{key:"render",value:function(){return this.state.tasks?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ul",{className:"list-group list"},r.a.createElement("h4",null,"\u0627\u0644\u062a\u062e\u0637\u064a\u0637"),this.renderList("a")),r.a.createElement(ge,{type:"a",goal:this.props.goal,day:this.props.day,date:this.props.date,refresh:this.fetchTasks},r.a.createElement(x.a,{variant:"contained",color:"secondary",style:{marginTop:10}},"Add Task"))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("ul",{className:"list-group list"},r.a.createElement("h4",null,"\u0627\u0644\u062a\u0646\u0641\u064a\u0630"),this.renderList("b")),r.a.createElement(ge,{type:"b",goal:this.props.goal,day:this.props.day,date:this.props.date,refresh:this.fetchTasks},r.a.createElement(x.a,{variant:"contained",color:"primary",style:{marginTop:10}},"Add Task")))):r.a.createElement("h2",null,"Loading...")}}]),t}(r.a.Component),kt=Object(C.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper,width:"100%",position:"relative",minHeight:200,direction:"rtl",textAlign:"right"},fab:{position:"absolute",bottom:2*e.spacing.unit,right:2*e.spacing.unit},fabGreen:{color:e.palette.common.white,backgroundColor:et.a[500]}}},{withTheme:!0})(function(e){var t=e.classes,a=e.theme,o=e.goal_id,l=Object(n.useState)(0),c=Object(Pe.a)(l,2),i=c[0],s=c[1];return r.a.createElement("div",{className:t.root},r.a.createElement(Ve.a,{position:"static",color:"default"},r.a.createElement(Je.a,{value:i,onChange:function(e,t){return s(t)},indicatorColor:"primary",textColor:"primary",fullWidth:!0},r.a.createElement($e.a,{label:"Comments"}),r.a.createElement($e.a,{label:"Subgoals"}),r.a.createElement($e.a,{label:"Tasks"}))),r.a.createElement(qe.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:i,onChangeIndex:s},r.a.createElement(Et,{goal_id:o}),r.a.createElement(vt,{id:o}),r.a.createElement(Ot,{goal:o})))});var jt=Fe()(Object(m.b)(function(e,t){return{goal:e.goals[t.match.params.id]}},{fetchGoal:Ge})(Object(C.withStyles)(function(){return{paper:{marginTop:10,padding:10,marginBottom:10,marginLeft:"auto",marginRight:"auto",maxWidth:800,width:"95%",textAlign:"right",direction:"rtl"},goalInfo:{padding:10,marginBottom:10,marginLeft:10,marginRight:10},title:{paddingBottom:20,fontWeight:"700"},description:{padding:10,marginBottom:20,fontSize:"1rem"}}})(function(e){var t=e.match,a=e.fetchGoal,o=e.goal,l=e.classes;if(Object(n.useEffect)(function(){var e=t.params.id;a(e)},[]),!o)return r.a.createElement("div",null,"Loading...");var c=t.params.id;return r.a.createElement(we.a,{className:l.paper},r.a.createElement("div",{className:l.goalInfo},r.a.createElement(N.a,{variant:"h4",className:l.title},o.title),r.a.createElement(N.a,{variant:"body1",component:"pre",className:l.description},o.description),r.a.createElement(ue.a,{container:!0,justify:"space-between"},r.a.createElement(ue.a,{item:!0}," \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},"".concat(o.total_time,"h"))),r.a.createElement(ue.a,{item:!0},"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},"".concat(o.total_spend,"h"))),r.a.createElement(ue.a,{item:!0},"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621",r.a.createElement("span",{className:"badge badge-primary badge-pill"},r.a.createElement(De,{dateTime:o.finished_at}))))),r.a.createElement(kt,{goal_id:c}))}))),wt=function(e){function t(e){var a;return Object(p.a)(this,t),(a=Object(g.a)(this,Object(b.a)(t).call(this,e))).renderDate=function(){return a.state.day?a.state.day.date:"loading"},a.addReport=function(){S()({method:"post",url:"".concat(I,"api/report/").concat(a.props.match.params.id,"/"),data:{content:a.state.newReport},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.setState({report:e.data})})},a.updateReport=function(){a.setState({newReport:a.state.report.content,report:{}})},a.renderReport=function(){return _e.a.isEmpty(a.state.report)?r.a.createElement("div",null,r.a.createElement(U.a,{style:{margin:8},placeholder:"\u0627\u0636\u0641 \u062a\u0642\u0631\u064a\u0631",fullWidth:!0,margin:"normal",variant:"outlined",multiline:!0,rowMin:"4",InputLabelProps:{shrink:!0},value:a.state.newReport,onChange:function(e){return a.setState({newReport:e.target.value})}}),r.a.createElement("button",{className:"btn btn-primary",onClick:a.addReport},"Add Report")):r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",onClick:a.updateReport},"Update Report"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("br",null),r.a.createElement("pre",{className:"report"},a.state.report.content),r.a.createElement("br",null)))},a.state={day:null,report:{},newReport:""},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;S()({method:"get",url:"".concat(I,"api/report/").concat(this.props.match.params.id,"/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(t){e.setState(function(){return{report:t.data.report,day:t.data.day}})})}},{key:"render",value:function(){if(!this.state.day)return r.a.createElement("h2",null,"loading...");var e=this.props.match.params.id;return r.a.createElement("div",{className:"container",style:{textAlign:"right",direction:"rtl"}},r.a.createElement(Ot,{day:e,date:this.state.day.date}),r.a.createElement("br",null),r.a.createElement("br",null),this.renderReport())}}]),t}(n.Component),St=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(o)))).renderList=function(){return _e.a.map(a.props.days,function(e){return r.a.createElement(Le.a,{to:"/day/".concat(e.id),key:e.id},r.a.createElement(O.g,{className:"justify-content-between"},e.date))})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDays()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.f,null,this.renderList()),r.a.createElement("br",null),r.a.createElement("br",null))}}]),t}(r.a.Component);var Ct=Object(m.b)(function(e){return{days:e.days}},{fetchDays:function(){return{type:"FETCH_DAYS",payload:S()({method:"get",url:"".concat(Ie,"/days/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}})}}})(St),Dt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){console.log("entered on submit");var t=le()(e.date).format("YYYY-MM-DD"),n=le()(e.time).format("HH:mm:ss"),r=Object(j.a)({},e,{date:t,time:n}),o=a.props.match.params.id;S()({method:"put",url:"".concat(I,"api/goal/").concat(o,"/"),data:r,headers:{Authorization:"Token 560ada8c525156d6441fec29ea2910571eb1f35c"}}).then(function(e){a.props.history.push("/goal/goal/".concat(o))})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchGoal(e)}},{key:"componentDidUpdate",value:function(e){if(this.props.goal!==e.goal){var t=this.props.goal;this.props.initialize({title:t.title,description:t.description,total_time:t.total_time,total_spend:t.total_spend,date:new Date(t.finished_at),time:new Date(t.finished_at)})}}},{key:"render",value:function(){if(!this.props.goal)return r.a.createElement("div",null,"Loading...");var e=this.props.handleSubmit;return r.a.createElement(ve.a,null,r.a.createElement("div",{className:"container",style:{direction:"rtl",textAlign:"right"}},r.a.createElement("form",{onSubmit:e(this.onSubmit)},r.a.createElement("h3",null,"\u062a\u0639\u062f\u064a\u0644 \u0627\u0644\u0647\u062f\u0641"),r.a.createElement(M.a,{name:"title",component:$,type:"text",label:"\u0627\u0644\u0647\u062f\u0641",validate:Nt}),r.a.createElement(M.a,{name:"description",component:te,label:"\u0627\u0644\u062a\u0641\u0627\u0635\u064a\u0644",validate:Nt}),r.a.createElement(M.a,{name:"total_time",component:$,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:Nt}),r.a.createElement(M.a,{name:"total_spend",component:$,type:"number",label:"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649 \u0628\u0627\u0644\u0633\u0627\u0639\u0627\u062a",validate:Nt}),r.a.createElement(M.a,{name:"date",component:Z,label:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"}),r.a.createElement(M.a,{name:"time",component:ee,label:"\u0648\u0642\u062a \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621"}),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null))))}}]),t}(r.a.Component),Nt=function(e){return e?void 0:"Required"};Dt=Object(m.b)(function(e,t){return{goal:e.goals[t.match.params.id]}},{fetchGoal:Ge})(Dt);var At=Object(Y.a)({form:"GoalUpdateForm"})(Dt),Tt=a(168),_t=a.n(Tt),xt=[{title:"All Day Event very long title",bgColor:"#ff7f50",allDay:!0,start:new Date(2015,3,0),end:new Date(2015,3,1)},{title:"Long Event",start:new Date(2015,3,7),end:new Date(2015,3,10)},{title:"DTS STARTS",bgColor:"#dc143c",start:new Date(2016,2,13,0,0,0),end:new Date(2016,2,20,0,0,0)},{title:"DTS ENDS",bgColor:"#ff8c00",start:new Date(2016,10,6,0,0,0),end:new Date(2016,10,13,0,0,0)},{title:"Some Event",bgColor:"#9932cc",start:new Date(2015,3,9,0,0,0),end:new Date(2015,3,9,0,0,0)},{title:"Conference",bgColor:"#e9967a",start:new Date(2015,3,11),end:new Date(2015,3,13),desc:"Big conference for important people"},{title:"Meeting",bgColor:"#8fbc8f",start:new Date(2015,3,12,10,30,0,0),end:new Date(2015,3,12,12,30,0,0),desc:"Pre-meeting meeting, to prepare for the meeting"},{title:"Lunch",bgColor:"#cd5c5c",start:new Date(2015,3,12,12,0,0,0),end:new Date(2015,3,12,13,0,0,0),desc:"Power lunch"},{title:"Happy Hour",start:new Date(2015,3,12,12,0,0,0),end:new Date(2015,3,12,13,0,0,0),desc:"Power lunch happy hour"},{title:"Meeting",bgColor:"#da70d6",start:new Date(2015,3,12,14,0,0,0),end:new Date(2015,3,12,15,0,0,0)},{title:"Happy Hour",bgColor:"#eee8aa",start:new Date(2015,3,17,17,0,0,0),end:new Date(2015,3,17,17,30,0,0),desc:"Most important meal of the day"},{title:"Dinner",bgColor:"#98fb98",start:new Date(2015,3,15,20,0,0,0),end:new Date(2015,3,15,21,0,0,0)},{title:"Birthday Party",bgColor:"#afeeee",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Birthday Party 2",bgColor:"#db7093",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Birthday Party 3",bgColor:"#cd853f",start:new Date(2015,3,13,7,0,0),end:new Date(2015,3,13,10,30,0)},{title:"Late Night Event",bgColor:"#b0e0e6",start:new Date(2015,3,17,19,30,0),end:new Date(2015,3,18,2,0,0)},{title:"Multi-day Event",start:new Date(2015,3,20,19,30,0),end:new Date(2015,3,22,2,0,0)}],Lt=Object.keys(_t.a.Views).map(function(e){return _t.a.Views[e]});_t.a.momentLocalizer(le.a);var It={minHeight:"100vh",height:"min-content",marginBottom:20},Gt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).dayClick=function(e){var t=le()(e.start).format("YYYY-MM-DD");S()({method:"get",url:"".concat(I,"api/get-day-id/"),params:{date:t},headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.props.history.push("/day/".concat(e.data.id))})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(_t.a,Object.assign({selectable:!0,style:It},this.props,{events:xt,views:Lt,onSelectEvent:function(e){return alert(e.title)},onSelectSlot:this.dayClick,step:60,defaultDate:new Date})))}}]),t}(r.a.Component),Rt=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(g.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={goal:null},a.getGoal=function(){var e=a.props.match.params.id;S()({method:"get",url:"".concat(I,"api/goal-detail/").concat(e,"/"),headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(e){a.setState({goal:e.data})})},a.deleteGoal=function(){var e=a.props.match.params.id;S.a.delete("".concat(I,"api/goal/").concat(e,"/"),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then(function(){a.props.history.push("/goal/goal")})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.getGoal()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&(this.setState({goal:null}),this.getGoal())}},{key:"render",value:function(){var e=this.state.goal;if(!e)return r.a.createElement("div",null,"Loading...");var t=this.props.match.params.id;return r.a.createElement("div",{className:"container"},r.a.createElement(we.a,{style:{marginTop:"10px",padding:20,marginBottom:"0",width:"90%",marginLeft:"auto",marginRight:"auto",textAlign:"right",direction:"rtl"}},r.a.createElement("h1",null,e.title),r.a.createElement("br",null),r.a.createElement("pre",null,e.description),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-4"},"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0643\u0644\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},e.total_time,"h")),r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-4"},"\u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0645\u0646\u0642\u0636\u0649",r.a.createElement("span",{className:"badge badge-primary badge-pill"},e.total_spend,"h")),r.a.createElement("br",null),r.a.createElement("div",{className:"col-md-4"},"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0627\u0646\u062a\u0647\u0627\u0621",r.a.createElement("span",{className:"badge badge-primary badge-pill"},r.a.createElement(De,{dateTime:e.finished_at}))),r.a.createElement("br",null)),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3"},r.a.createElement(Le.a,{className:"btn btn-warning",to:"/goal/update/".concat(t)},"Update")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteGoal},"Delete")),r.a.createElement("div",{className:"col-md-3"},r.a.createElement("a",{className:"btn btn-primary",href:"#add-comment"},"Add comment"))),r.a.createElement("br",null),r.a.createElement("hr",null),r.a.createElement(kt,{goal_id:t})),r.a.createElement("br",null))}}]),t}(r.a.Component),Mt=function(e){function t(){return Object(p.a)(this,t),Object(g.a)(this,Object(b.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(ke,null,r.a.createElement(y.a,{exact:!0,path:"/",component:Be}),r.a.createElement(y.a,{exact:!0,path:"/goal/goal",component:Be}),r.a.createElement(y.a,{path:"/goal/goal/:id",component:jt}),r.a.createElement(y.a,{path:"/goal/subgoal/:id",component:Rt}),r.a.createElement(y.a,{path:"/goal/update/:id",component:At}),r.a.createElement(y.a,{path:"/goal/create_task",component:ge}),r.a.createElement(y.a,{path:"/days",component:Ct}),r.a.createElement(y.a,{path:"/day/:id",component:wt}),r.a.createElement(y.a,{path:"/calendar",component:Gt}),r.a.createElement(y.a,{path:"/goal-tabs",component:kt}),r.a.createElement(y.a,{path:"/task/:id",component:Ae})))}}]),t}(r.a.Component),Yt=a(1124),zt=Object(s.c)({form:Yt.a,goals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_GOALS":return _e.a.mapKeys(t.payload.data,"id");case"FETCH_GOAL":return Object(j.a)({},e,Object(tt.a)({},t.payload.data.id,t.payload.data));default:return e}},days:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DAYS":return _e.a.mapKeys(t.payload.data,"id");default:return e}}}),Ht=Object(s.a)(u.a)(s.d);l.a.render(r.a.createElement(m.a,{store:Ht(zt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(Mt,null)),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("./static",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("./static","/service-worker.js");c?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):i(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(e)})}}()},540:function(e,t,a){e.exports=a(1119)},545:function(e,t,a){},555:function(e,t,a){}},[[540,1,2]]]);
//# sourceMappingURL=main.38feb447.chunk.js.map